{"id":"b4U1","dependencies":[{"name":"/home/josh/Documents/workspace/phonegap/hw/tsconfig.json","includedInParent":true,"mtime":1540477187614},{"name":"/home/josh/Documents/workspace/phonegap/hw/package.json","includedInParent":true,"mtime":1541610405370}],"generated":{"js":"\"use strict\";function i(i,e){if(!(i instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function e(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function t(i,t,n){return t&&e(i.prototype,t),n&&e(i,n),i}var n,r,s,o,a,l,u,c,h,v;Object.defineProperty(exports,\"__esModule\",{value:!0});var d=function(){function e(t){i(this,e),this.bluetoothle=t,this.initializePeripheral=this.initializePeripheral.bind(this),this.initialize=this.initialize.bind(this),this.addService=this.addService.bind(this),this.isAdvertising=this.isAdvertising.bind(this),this.startAdvertising=this.startAdvertising.bind(this)}return t(e,[{key:\"initialize\",value:function(){var i=this;return console.log(\"initialize\"),new Promise(function(e,t){i.bluetoothle.initialize(e)})}},{key:\"initializePeripheral\",value:function(i){var e=this;return console.log(\"initializePeripheral\"),new Promise(function(t,n){e.bluetoothle.initializePeripheral(t,n,i)})}},{key:\"addService\",value:function(i){var e=this;return console.log(\"addservice\"),new Promise(function(t,n){e.bluetoothle.addService(t,n,i)})}},{key:\"isAdvertising\",value:function(){var i=this;return console.log(\"isAdvertising\"),new Promise(function(e,t){i.bluetoothle.isAdvertising(e,t)})}},{key:\"startAdvertising\",value:function(i){console.log(\"startAdvertising\");var e=this;return new Promise(function(t,n){e.isAdvertising().then(function(r){r.status||e.bluetoothle.startAdvertising(t,n,i)})})}},{key:\"advertise\",value:function(i){console.log(\"advertise\",i);var e=this,t=i.serviceParams,n=i.peripheralParams,r=i.advertisementParams;console.log(i);return new Promise(function(i,s){e.initialize().then(function(){return e.initializePeripheral(n)}).then(function(){return e.addService(t)}).then(function(){return e.startAdvertising(r).then(function(i){return alert(JSON.stringify(i)).catch(function(i){return l(i)})})})})}}]),e}();exports.default=d;","map":{"mappings":[{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":0}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":13}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":22}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":24}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":26}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":29}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":34}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":47}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":50}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":56}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":60}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":70}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":107}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":116}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":118}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":120}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":123}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":127}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":131}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":133}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":135}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":137}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":139}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":146}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":150}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":151}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":155}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":157}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":159}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":162}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":164}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":175}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":177}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":190}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":192}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":194}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":208}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":210}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":220}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":224}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":226}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":236}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":239}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":246}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":261}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":263}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":265}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":269}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":273}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":282}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":284}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":286}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":288}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":291}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":298}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":301}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":303}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":305}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":315}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":318}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":321}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":323}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":325}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":328}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":330}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":4},"generated":{"line":1,"column":334}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":44},"generated":{"line":1,"column":336}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":49},"generated":{"line":1,"column":338}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":71},"generated":{"line":1,"column":340}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":83},"generated":{"line":1,"column":342}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":96},"generated":{"line":1,"column":344}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":103},"generated":{"line":1,"column":346}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":125},"generated":{"line":1,"column":348}},{"source":"services/bluetooth.ts","name":null,"original":{"line":4,"column":141},"generated":{"line":1,"column":350}},{"source":"services/bluetooth.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":352}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":354}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":361}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":376}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":384}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":397}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":398}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":405}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":409}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":413}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":415}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":426}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":435}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":16},"generated":{"line":1,"column":437}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":58},"generated":{"line":1,"column":440}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":58},"generated":{"line":1,"column":442}},{"source":"services/bluetooth.ts","name":null,"original":{"line":51,"column":58},"generated":{"line":1,"column":447}},{"source":"services/bluetooth.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":450}},{"source":"services/bluetooth.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":455}},{"source":"services/bluetooth.ts","name":null,"original":{"line":52,"column":27},"generated":{"line":1,"column":467}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":469}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":474}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":36},"generated":{"line":1,"column":495}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":41},"generated":{"line":1,"column":500}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":62},"generated":{"line":1,"column":521}},{"source":"services/bluetooth.ts","name":null,"original":{"line":53,"column":67},"generated":{"line":1,"column":526}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":532}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":13},"generated":{"line":1,"column":537}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":1,"column":548}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":31},"generated":{"line":1,"column":553}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":42},"generated":{"line":1,"column":564}},{"source":"services/bluetooth.ts","name":null,"original":{"line":54,"column":47},"generated":{"line":1,"column":569}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":575}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":580}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":26},"generated":{"line":1,"column":591}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":31},"generated":{"line":1,"column":596}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":42},"generated":{"line":1,"column":607}},{"source":"services/bluetooth.ts","name":null,"original":{"line":55,"column":47},"generated":{"line":1,"column":612}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":618}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":13},"generated":{"line":1,"column":623}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":637}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":34},"generated":{"line":1,"column":642}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":48},"generated":{"line":1,"column":656}},{"source":"services/bluetooth.ts","name":null,"original":{"line":56,"column":53},"generated":{"line":1,"column":661}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":667}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":672}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":1,"column":689}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":1,"column":694}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":54},"generated":{"line":1,"column":711}},{"source":"services/bluetooth.ts","name":null,"original":{"line":57,"column":59},"generated":{"line":1,"column":716}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":722}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":729}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":731}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":733}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":734}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":735}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":739}},{"source":"services/bluetooth.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":752}},{"source":"services/bluetooth.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":758}},{"source":"services/bluetooth.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":769}},{"source":"services/bluetooth.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":773}},{"source":"services/bluetooth.ts","name":null,"original":{"line":60,"column":14},"generated":{"line":1,"column":775}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":780}},{"source":"services/bluetooth.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":787}},{"source":"services/bluetooth.ts","name":null,"original":{"line":61,"column":16},"generated":{"line":1,"column":795}},{"source":"services/bluetooth.ts","name":null,"original":{"line":61,"column":20},"generated":{"line":1,"column":799}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":1,"column":813}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":817}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":1,"column":825}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":28},"generated":{"line":1,"column":834}},{"source":"services/bluetooth.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":836}},{"source":"services/bluetooth.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":1,"column":839}},{"source":"services/bluetooth.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":841}},{"source":"services/bluetooth.ts","name":null,"original":{"line":63,"column":29},"generated":{"line":1,"column":853}},{"source":"services/bluetooth.ts","name":null,"original":{"line":63,"column":40},"generated":{"line":1,"column":864}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":871}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":872}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":876}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":899}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":905}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":25},"generated":{"line":1,"column":914}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":71},"generated":{"line":1,"column":917}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":71},"generated":{"line":1,"column":921}},{"source":"services/bluetooth.ts","name":null,"original":{"line":66,"column":71},"generated":{"line":1,"column":923}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":1,"column":928}},{"source":"services/bluetooth.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":935}},{"source":"services/bluetooth.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":943}},{"source":"services/bluetooth.ts","name":null,"original":{"line":67,"column":20},"generated":{"line":1,"column":947}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":1,"column":971}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":19},"generated":{"line":1,"column":975}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":983}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":28},"generated":{"line":1,"column":992}},{"source":"services/bluetooth.ts","name":null,"original":{"line":68,"column":37},"generated":{"line":1,"column":994}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":997}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":999}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":29},"generated":{"line":1,"column":1011}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":1,"column":1032}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":59},"generated":{"line":1,"column":1034}},{"source":"services/bluetooth.ts","name":null,"original":{"line":69,"column":67},"generated":{"line":1,"column":1036}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1043}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1044}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1048}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1061}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1067}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1076}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":1079}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":1083}},{"source":"services/bluetooth.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":1085}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1090}},{"source":"services/bluetooth.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":1097}},{"source":"services/bluetooth.ts","name":null,"original":{"line":73,"column":16},"generated":{"line":1,"column":1105}},{"source":"services/bluetooth.ts","name":null,"original":{"line":73,"column":20},"generated":{"line":1,"column":1109}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1123}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":1127}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":27},"generated":{"line":1,"column":1135}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":1144}},{"source":"services/bluetooth.ts","name":null,"original":{"line":74,"column":37},"generated":{"line":1,"column":1146}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":12},"generated":{"line":1,"column":1149}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":1,"column":1151}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":29},"generated":{"line":1,"column":1163}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":40},"generated":{"line":1,"column":1174}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":49},"generated":{"line":1,"column":1176}},{"source":"services/bluetooth.ts","name":null,"original":{"line":76,"column":57},"generated":{"line":1,"column":1178}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1185}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1186}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1190}},{"source":"services/bluetooth.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":1206}},{"source":"services/bluetooth.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":1212}},{"source":"services/bluetooth.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":1223}},{"source":"services/bluetooth.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":1227}},{"source":"services/bluetooth.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":1229}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":15},"generated":{"line":1,"column":1234}},{"source":"services/bluetooth.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":1241}},{"source":"services/bluetooth.ts","name":null,"original":{"line":80,"column":16},"generated":{"line":1,"column":1249}},{"source":"services/bluetooth.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":1,"column":1253}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":15},"generated":{"line":1,"column":1270}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":1274}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":27},"generated":{"line":1,"column":1282}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":28},"generated":{"line":1,"column":1291}},{"source":"services/bluetooth.ts","name":null,"original":{"line":81,"column":41},"generated":{"line":1,"column":1293}},{"source":"services/bluetooth.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":1296}},{"source":"services/bluetooth.ts","name":null,"original":{"line":82,"column":17},"generated":{"line":1,"column":1298}},{"source":"services/bluetooth.ts","name":null,"original":{"line":82,"column":29},"generated":{"line":1,"column":1310}},{"source":"services/bluetooth.ts","name":null,"original":{"line":82,"column":43},"generated":{"line":1,"column":1324}},{"source":"services/bluetooth.ts","name":null,"original":{"line":82,"column":52},"generated":{"line":1,"column":1326}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1333}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1334}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1338}},{"source":"services/bluetooth.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":1,"column":1357}},{"source":"services/bluetooth.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":1,"column":1363}},{"source":"services/bluetooth.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":1,"column":1372}},{"source":"services/bluetooth.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1375}},{"source":"services/bluetooth.ts","name":null,"original":{"line":86,"column":16},"generated":{"line":1,"column":1383}},{"source":"services/bluetooth.ts","name":null,"original":{"line":86,"column":20},"generated":{"line":1,"column":1387}},{"source":"services/bluetooth.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":1,"column":1407}},{"source":"services/bluetooth.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":1,"column":1411}},{"source":"services/bluetooth.ts","name":null,"original":{"line":87,"column":21},"generated":{"line":1,"column":1413}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":1,"column":1418}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":1,"column":1425}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":1,"column":1429}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":54},"generated":{"line":1,"column":1437}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":55},"generated":{"line":1,"column":1446}},{"source":"services/bluetooth.ts","name":null,"original":{"line":88,"column":68},"generated":{"line":1,"column":1448}},{"source":"services/bluetooth.ts","name":null,"original":{"line":89,"column":12},"generated":{"line":1,"column":1451}},{"source":"services/bluetooth.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":1453}},{"source":"services/bluetooth.ts","name":null,"original":{"line":90,"column":17},"generated":{"line":1,"column":1469}},{"source":"services/bluetooth.ts","name":null,"original":{"line":90,"column":22},"generated":{"line":1,"column":1474}},{"source":"services/bluetooth.ts","name":null,"original":{"line":90,"column":23},"generated":{"line":1,"column":1483}},{"source":"services/bluetooth.ts","name":null,"original":{"line":91,"column":24},"generated":{"line":1,"column":1486}},{"source":"services/bluetooth.ts","name":null,"original":{"line":91,"column":31},"generated":{"line":1,"column":1488}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":24},"generated":{"line":1,"column":1496}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":29},"generated":{"line":1,"column":1498}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":41},"generated":{"line":1,"column":1510}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":58},"generated":{"line":1,"column":1527}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":67},"generated":{"line":1,"column":1529}},{"source":"services/bluetooth.ts","name":null,"original":{"line":92,"column":75},"generated":{"line":1,"column":1531}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1540}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1541}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1545}},{"source":"services/bluetooth.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":1557}},{"source":"services/bluetooth.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":1563}},{"source":"services/bluetooth.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":1572}},{"source":"services/bluetooth.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1575}},{"source":"services/bluetooth.ts","name":null,"original":{"line":98,"column":16},"generated":{"line":1,"column":1583}},{"source":"services/bluetooth.ts","name":null,"original":{"line":98,"column":20},"generated":{"line":1,"column":1587}},{"source":"services/bluetooth.ts","name":null,"original":{"line":98,"column":33},"generated":{"line":1,"column":1599}},{"source":"services/bluetooth.ts","name":null,"original":{"line":99,"column":14},"generated":{"line":1,"column":1602}},{"source":"services/bluetooth.ts","name":null,"original":{"line":99,"column":14},"generated":{"line":1,"column":1606}},{"source":"services/bluetooth.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":1608}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1613}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":71},"generated":{"line":1,"column":1615}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1617}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":30},"generated":{"line":1,"column":1631}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":71},"generated":{"line":1,"column":1633}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":30},"generated":{"line":1,"column":1635}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":48},"generated":{"line":1,"column":1652}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":71},"generated":{"line":1,"column":1654}},{"source":"services/bluetooth.ts","name":null,"original":{"line":100,"column":48},"generated":{"line":1,"column":1656}},{"source":"services/bluetooth.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1676}},{"source":"services/bluetooth.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1684}},{"source":"services/bluetooth.ts","name":null,"original":{"line":101,"column":20},"generated":{"line":1,"column":1688}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":1691}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":1698}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":1,"column":1702}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":27},"generated":{"line":1,"column":1710}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":28},"generated":{"line":1,"column":1719}},{"source":"services/bluetooth.ts","name":null,"original":{"line":103,"column":37},"generated":{"line":1,"column":1721}},{"source":"services/bluetooth.ts","name":null,"original":{"line":104,"column":12},"generated":{"line":1,"column":1724}},{"source":"services/bluetooth.ts","name":null,"original":{"line":104,"column":17},"generated":{"line":1,"column":1726}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":1739}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":22},"generated":{"line":1,"column":1744}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":28},"generated":{"line":1,"column":1755}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":28},"generated":{"line":1,"column":1762}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":33},"generated":{"line":1,"column":1764}},{"source":"services/bluetooth.ts","name":null,"original":{"line":105,"column":54},"generated":{"line":1,"column":1785}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":17},"generated":{"line":1,"column":1790}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":22},"generated":{"line":1,"column":1795}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":28},"generated":{"line":1,"column":1806}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":28},"generated":{"line":1,"column":1813}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":33},"generated":{"line":1,"column":1815}},{"source":"services/bluetooth.ts","name":null,"original":{"line":106,"column":44},"generated":{"line":1,"column":1826}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":17},"generated":{"line":1,"column":1831}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":1,"column":1836}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":1847}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":1854}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":33},"generated":{"line":1,"column":1856}},{"source":"services/bluetooth.ts","name":null,"original":{"line":107,"column":50},"generated":{"line":1,"column":1873}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":17},"generated":{"line":1,"column":1876}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":1881}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":1890}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":27},"generated":{"line":1,"column":1893}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":27},"generated":{"line":1,"column":1900}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":33},"generated":{"line":1,"column":1906}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":38},"generated":{"line":1,"column":1911}},{"source":"services/bluetooth.ts","name":null,"original":{"line":108,"column":48},"generated":{"line":1,"column":1921}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":17},"generated":{"line":1,"column":1925}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":23},"generated":{"line":1,"column":1931}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":24},"generated":{"line":1,"column":1940}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":30},"generated":{"line":1,"column":1943}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":30},"generated":{"line":1,"column":1950}},{"source":"services/bluetooth.ts","name":null,"original":{"line":109,"column":36},"generated":{"line":1,"column":1952}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1967}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1969}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1972}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1980}},{"source":"services/bluetooth.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":1988}}],"sources":{"services/bluetooth.ts":"// bluetoothle is a global var created/set by cordova\n/// <reference path=\"../../ts/services/services.d.ts\" />\n/// <reference path=\"../../../node_modules/cordova-plugin-bluetoothle/types/index.d.ts\" />\nvar advertisementParams:Params.advertising, app, getAdvertisingParams, initialize, isAdvertise, onErr, setAdvertisingParams, startAdvertise, stopAdvertise,\n$advertiseInfo\n;\n// advertisementParams = {\n// \"services\":[\"1234\"], //iOS\n// \"service\":\"1234\",\n// name:\"my\"\n// mode: \"balanced\",\n// connectable: true,\n// timeout: 20000,\n// powerLevel: \"high\",\n// //        includeDeviceName: true\n// };\n// onErr = (err) => {\n// alert(JSON.stringify(err))\n// };\n// var peripheralParams: Params.peripheral = {\n// \"request\": true,\n// \"restoreKey\" : \"bluetoothlepluginPeripheral\"\n// };\n// var serviceParams: Params.initService = {\n// service: \"1234\",\n// characteristics: [\n// {\n//     uuid: \"ABCD\",\n//     permissions: {\n//     read: true,\n//     write: true,\n//     //readEncryptionRequired: true,\n//     //writeEncryptionRequired: true,\n//     },\n//     properties : {\n//     read: true,\n//     writeWithoutResponse: true,\n//     write: true,\n//     notify: true,\n//     indicate: true,\n//     //authenticatedSignedWrites: true,\n//     //notifyEncryptionRequired: true,\n//     //indicateEncryptionRequired: true,\n//     }\n// }\n// ]\n// };\n\n\nexport default class BluetoothService implements Services.BluetoothService {\n    constructor(bluetoothle: BluetoothlePlugin.Bluetoothle) {\n        this.bluetoothle = bluetoothle;\n        this.initializePeripheral = this.initializePeripheral.bind(this);\n        this.initialize = this.initialize.bind(this);\n        this.addService = this.addService.bind(this);\n        this.isAdvertising = this.isAdvertising.bind(this);\n        this.startAdvertising = this.startAdvertising.bind(this);\n    }\n    bluetoothle: BluetoothlePlugin.Bluetoothle\n    initialize() {\n        console.log('initialize');\n        return new Promise((resolve, reject) => {\n            this.bluetoothle.initialize(resolve);\n        });\n    }\n    initializePeripheral(params: BluetoothlePlugin.InitPeripheralParams) {\n        console.log('initializePeripheral');\n        return new Promise((resolve, reject) =>{ \n            this.bluetoothle.initializePeripheral(resolve, reject, params);\n        });\n    }\n    addService(params) {\n        console.log('addservice');\n        return new Promise((resolve, reject) => {\n            /// TODO check for existent service against params\n            this.bluetoothle.addService(resolve, reject, params);\n        });\n    }\n    isAdvertising() {\n        console.log('isAdvertising');\n        return new Promise((resolve:any, reject) => {\n            this.bluetoothle.isAdvertising(resolve, reject);\n        });\n    }\n    startAdvertising(params: Params.advertising) {\n        console.log('startAdvertising');\n        const self = this;\n        return new Promise<{status: Services.Status}>((resolve:any, reject:any) => {\n            self.isAdvertising()\n                .then((result:{status: boolean}) => {\n                    if(!result.status) {\n                        self.bluetoothle.startAdvertising(resolve, reject, params)\n                    }\n                });\n        });\n    }\n    advertise(params: any) {\n        console.log('advertise', params);\n        const self:any = this;\n        const {serviceParams, peripheralParams, advertisementParams} = params;\n        console.log(params);\n        var advertiseResult: any = {intialize: {}, service: {}, peripheral: {}, advertise: {}};\n        return new Promise((resolve, reject) => {\n            self.initialize()\n                .then(() => self.initializePeripheral(peripheralParams))\n                .then(() => self.addService(serviceParams))\n                .then(() => self.startAdvertising(advertisementParams)\n                .then(r => alert(JSON.stringify(r))\n                .catch((e) => onErr(e))\n\n            // self.initialize()\n            // .then((result: any) => { alert(JSON.stringify(result)); advertiseResult.initialize = result; self.initializePeripheral(peripheralParams); })\n            // .then((result: any) => {\n            //         alert(JSON.stringify(result));\n            //         advertiseResult.peripheral = result;\n            //         self.addService(serviceParams);\n            //     })\n            //     .then((result: any) => { alert(JSON.stringify(result)); advertiseResult.peripherial = result; self.startAdvertising(advertisementParams); })\n            //     .then((result:any) => {\n            //         alert(JSON.stringify(result));\n            //         advertiseResult.advertise = result;\n            //         if( \"advertisingStarted\" === \"advertisingStarted\") {\n            //             resolve(advertiseResult);\n            //         } else {\n            //             reject(advertiseResult);\n            //         }\n            //     })\n            // ;\n        });\n    }\n}\n"},"lineCount":null}},"hash":"7c7822b335bfc5437a3a1edd758dd3ae","cacheData":{"env":{}}}